# GEMINI (Agent Guidelines)

**Legato OCR Exel converter** 프로젝트를 위한 Gemini 에이전트 작업 가이드입니다.
`claude.md`의 워크플로우 효율성과 `AGENTS.md`의 코드 품질 기준을 통합하여 작성되었습니다.

---

## 1. 기본 원칙 (GENERAL RULES)
- **한국어 대응**: 모든 대화, 커밋 메시지, Task, Implementation Plan, Walkthrough, 스크래치패드는 **한국어**로 작성합니다.
- **간결함 (Conciseness)**: 시니어 개발자 톤으로 필요한 정보만 간결하게 설명합니다. (가정과 결론 분리)
- **안전 우선**: DB 파괴적 변경, 비밀키 커밋, 검증되지 않은 외부 라이브러리 추가를 금지합니다.

---

## 2. 작업 워크플로우 (WORKFLOW)

### 2.1 파일 조작 및 탐색
- **도구 사용**: `list_dir` → `find_by_name`/`grep_search` → `view_file` 순서로 탐색하여 토큰을 절약합니다.
- **편집 원칙**: 파일 전체를 다시 쓰지 말고, `replace_file_content` 등을 사용하여 **변경된 부분만 수정**합니다.
- **기록**: 모든 작업 진행 상황과 변경 로그는 `.claude/scratchpad.md` 파일에 기록합니다.

### 2.2 커밋 및 푸시 프로세스
사용자가 "커밋 해줘"라고 명시적으로 요청할 때만 수행하며, **푸시까지** 함께 진행합니다.

1. `git add .` (전체 스테이징)
2. `.claude/scratchpad.md` 업데이트 (작업 내역 한글 기록)
3. **Conventional Commits** 규칙 적용 (한글 메시지)
   - 예: `feat(parser): 엑셀 변환 로직 최적화`
4. `git commit`
5. `git push` (커밋 후 즉시 원격 저장소로 푸시)

---

## 3. 코드 품질 및 리뷰 기준 (QUALITY & REVIEW)

### 3.1 핵심 점검 사항 (Focus Areas)
- **데이터 무결성**: 파일 입출력 시 예외 처리 및 데이터 유실 방지.
- **코드 모듈화**: 하나의 함수가 하나의 역할만 수행하도록 분리.
- **시뮬레이터 호환성**: (제거됨 - 해당사항 없음)
- **테스트**: 주요 로직에 대한 단위 테스트 권장.

### 3.2 심각도별 가이드 (Severity Levels)
- **P0 (Critical)**: 보안 위협(API Key 노출), 데이터 손실 유발 코드. **즉시 수정**.
- **P1 (High)**: 에러 처리 미흡(`try-catch` 부재), 비효율적인 반복문. **PR 전 수정**.
- **P2 (Medium)**: 중복 코드, 하드코딩된 값, 주석 부족. **수정 권장**.

---

## 4. PHASE 완료 보고 양식
작업 단위(PHASE)가 끝날 때마다 다음 3가지를 정리하여 보고합니다.

1. **핵심 기대 동작**: 구현한 기능이 무엇이며, 성공 기준은 무엇인가.
2. **검증 방법**: 어떻게 동작을 확인했는가.
3. **기술적 배경**: 주요 코드 변경 사항과 그 이유.
